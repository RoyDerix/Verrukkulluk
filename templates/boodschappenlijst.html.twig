{% extends "main.html.twig" %}


{% block banner %}


    <div style="height: 400px; overflow: hidden;">
        <img src="afbeeldingen/boodschappenlijst.jpg" class="w-100">
    </div>
        <div class="carousel-text">
            <div class="row">
                <div class="col-6">
                    <a href="index.php">
                        <img src="assets/img/logo-v2.png" style="width: 300px"/>
                    </a>
                </div>
                <div class="col-6">
                    <div id="myNav" class="overlay">
                        <div class="overlay-content" style="overflow-x: hidden">
                            <div class="row">
                                <div class="col-md-4">
                                    <a href="index.php">
                                        <img src="assets/img/logo-v2.png" style="width: 250px; margin-left: 20px"/>
                                    </a>
                                </div>
                                <div class="col-md-4" style="margin-top: 20px">
                                    <a href="index.php?action=boodschappenlijst"><h1 class="green">Boodschappenlijst</h1></a>
                                </div>
                                <div class="col-md-3" style="margin-top: 20px;">
                                    <a href="index.php?action=favorieten_tonen"><h1 class="green">Favorieten</h1></a>
                                    <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div style="font-size: 60px; cursor: pointer; color: var(--lighter-orange); text-align: right; margin-right: 30px" onclick="openNav()">&#9776;</div>
                </div>
            </div>
        </div>

    <script>
        function openNav() {
            document.getElementById("myNav").style.height = "20%";
        }

        function closeNav() {
            document.getElementById("myNav").style.height = "0%";
        }
    </script>



{% endblock %}



{% block content %}
    {% set totaal_prijs = 0 %}
    <div class="card">
        <div class="card-body">
            <div class="card-title green">
                <div class="row" style="margin-left: 20px">
                    <div class="col-6">
                        <h1>Boodschappenlijst</h1>
                    </div>
                    <div class="col-6">
                        <div class="row">
                            <div class="col-4">
                            <h2>Aantal</h2>
                            </div>
                            <div class="col-4">
                                <h2>Prijs</h2>
                            </div>
                            <div class="col-4">
                            </div>
                        </div>
                    </div>
                </div>     
            </div>
            <div class="card-text" style="max-height: 550px; overflow-y: auto; overflow-x: hidden">
                {% for record in data %}
                    {% set prijs_artikel = record.prijs_per_artikel %}
                    {% set totaal_prijs = totaal_prijs + (prijs_artikel * record.aantal_verpakkingen) %}
                    <div class="row" style="padding: 20px;">
                        <div class="col-sm-7">
                            <div class="row">
                                <div class="col-2" style="min-width: 115px">
                                    <img src="{{record.artikelfoto}}" style="max-width: 100px; max-height: 100px;">
                                </div>
                                <div class="col-10" style="max-width: 200px">
                                    <h3 class="green detail-txt">{{record.titel_artikel}}</h3>
                                    <div>{{record.artikelbeschrijving}}</div>
                                </div>
                            </div>
                        </div>
                        <div class="col-sm-5">
                            <div class="row">
                                <div class="col-4">
                                    {{record.aantal_verpakkingen}}
                                </div>
                                <div class="col-4">
                                    <i class="fas fa-euro-sign" style="color: var(--darker-red)"></i> 
                                    {{prijs_artikel|number_format(2, ',', '.')}}
                                </div>
                                <div class="col-4">
                                <a class="fas fa-trash-alt" href="index.php?action=boodschappen_verwijderen&artikel_id={{record.artikel_id}}" style="font-size: 20px; color: var(--darker-red)"></a>
                                </div>
                            </div>

                        </div>
                    </div>
                {% endfor %}

            </div>
            <div class="card-text" style="margin-left: 20px; margin-top: 20px;">
                <div class="row">
                    <div class="col-6">
                            <h1 class="green">Totaal: </h1>
                    </div>

                    <div class="col-6">
                        <div class="row">
                            <div class="col-4">
                            </div>
                            <div class="col-4">
                                <i class="fas fa-euro-sign" style="color: var(--darker-red); font-size: 30px; display: inline;"></i>
                                <div style="display: inline; font-size: 30px;">{{totaal_prijs|number_format(2, ',', '.')}}</div>
                            </div>
                            <div class="col-4">
                                <a class="fas fa-trash-alt" href="index.php?action=lijst_verwijderen" style="font-size: 30px; color: var(--darker-red)"></a>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>


{% endblock %}
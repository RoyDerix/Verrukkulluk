<!DOCTYPE html>
<html lang="en">
  <head>
    <link rel="stylesheet" type="text/css" href="../assets/css/stars.css" />
    <link rel="stylesheet" type="text/css" href="../assets/css/fontawesome.css" />

    <script type="text/javascript" language="javascript" src="../assets/jquery/jquery.js"></script>
    <script>
      $(document).ready( function() {

        $(".fa-star").click(function() {
            var value = $(this).attr("data-value");
            $('.fa-star').each((index, elem) => {
                $(elem).removeClass("fas");
                $(elem).removeClass("red");
                $(elem).addClass("far");
                var itemValue = $(elem).attr('data-value');
                if(itemValue <= value) {
                    $(elem).removeClass("far");
                    $(elem).addClass("fas");
                    $(elem).addClass("red");
                }
            })
            $.ajax({
                url: "../lib/ajax-scores.php",
                method: "POST",
                data: {rating: value},
                success: function(response) {
                  console.log(response);
                }
            })
        })

      });    
    </script>
  </head>
  <body>
      <div>
          <i class="far fa-star" data-value="1"></i>
          <i class="far fa-star" data-value="2"></i>
          <i class="far fa-star" data-value="3"></i>
          <i class="far fa-star" data-value="4"></i>
          <i class="far fa-star" data-value="5"></i>
    </div>
  </body>
</html>
